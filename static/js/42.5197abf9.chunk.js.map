{"version":3,"sources":["pages/admin/pages/Generate/Place/components/PlaceTypes/index.module.scss","enums/GenerationType.js","pages/admin/pages/Generate/Place/components/ManualContent/index.jsx","pages/admin/pages/Generate/Place/components/PlaceTypes/index.jsx","pages/admin/pages/Generate/Place/components/CustomContent/index.jsx","pages/admin/pages/Generate/Place/components/RadioGenerationType/index.jsx","utils/FoursquareClient.js","pages/admin/pages/Generate/Place/index.jsx","enums/PlaceType.js","services/admin/sight.service.js","enums/ExcursionRouteType.js","services/admin/city.service.js","services/admin/generationPlace.service.js","utils/GoogleClient.js","utils/PlaceTypeTranslate.js","enums/FoursquarePlaceType.js","services/admin/country.service.js"],"names":["module","exports","GenerationTypeEnums","ManualContent","generatePlacesByCity","generationFinishCity","countryId","setLoading","mapRef","useState","countOfLimitSearch","setCountOfLimitSearch","cityList","setCityList","city","setCity","types","setTypes","type","setType","dictionary","useContext","DictionaryContext","getCity","cityId","CityService","show","getType","getCityList","GenerationPlaceService","cityWhiteList","country_id","manual","per_page","data","map","value","id","label","name","startManualGenerate","failed","console","log","place_types","list","generatedSquare","json","geometry","eq","Object","keys","FoursquarePlaceTypeEnum","typeIds","reduce","accum","key","isGeneratedTypes","uniqTypesId","includes","PlaceTypeTranslate","getTranslateForFoursquareType","useEffect","GoogleClient","getRectangle","current","north","south","east","west","style","display","gap","alignItems","marginBottom","onClick","disabled","width","margin","size","placeholder","options","showSearch","minWidth","filterOption","text","textLowerCase","trim","toLowerCase","labelLowerCase","valueLowerCase","toString","onChange","marginTop","e","target","Park","setPlaceTypes","placeTypes","places","className","styles","typeWrapper","typeWrapper__type","active","getTranslateForType","typeColor","PlaceTypeEnum","amusement_park","aquarium","tourist_attraction","zoo","restaurant","AutomaticContent","setGeometry","rectangle","useRef","timeOutId","allGeneratedSquare","generateSquareByGeometry","drawSquareByPlaceType","forEach","square","setMap","center","getCenter","squareSize","lat","maxHorizontalDif","lng","maxVerticalDif","draggable","editable","addListener","clearTimeout","setTimeout","bounds","getBounds","centerHorizontalLat","centerVerticalLng","newGeometry","parseBounds","errorDifHorizontal","errorDifVertical","setOptions","flexDirection","height","backgroundColor","RadioGenerationType","generationType","setGenerationType","Group","defaultValue","custom","i","FoursquareClient","searchParams","fetch","QueryString","stringify","headers","Authorization","this","accept","results","foursquarePlaceId","fields","join","placeDetails","opening_hours","parseOpeningHours","hours","regular","photoUrl","Promise","resolve","downloadImage","file","photosList","photos","status","filesIds","shortPhotosList","filter","_","index","length","photo","prefix","suffix","getPhotoFile","openingHours","days","formatOpeningHours","result","openHour","openTimeSplit","open","split","closeTimeSplit","openTimeFormat","closeTimeFormat","openTime","closeTime","day","slice","close","GeneratePlace","useParams","country","setCountry","loading","mapBlockRef","squareRef","mapInit","opt","zoom","restriction","latLngBounds","strictBounds","window","google","maps","Map","limit","currentI","currentJ","forLoop","currentType","countStep","placeHeightCoordinate","placeWidthCoordinate","stepHorizontal","stepVertical","message","city_id","indexI","indexJ","getPlaces","foursquareType","lastType","typeOriginIds","reject","placesToDB","categories","ne","sw","create","place","placeToBd","translatable","original_name","formatted_address","location","foursquare_place_id","fsq_id","check_coordinates","place_type","latitude","geocodes","main","longitude","getPhotosId","files_ids","getPlacesDetails","website","international_phone_number","tel","getMarker","SightService","createBatch","sights","finish","generation_type","getCountry","CountryService","ref","paddingTop","xmlns","version","viewBox","x","y","fill","d","attributeName","from","to","dur","repeatCount","process","reserve","botanical_garden","beach","mountains","sea","lake","art_gallery","campground","church","mosque","museum","theater","park","place_of_view","customTypesList","googleTypesList","sightId","params","SightModel","axios","get","API_MAKE_ADMIN_SIGHT_SHOW","paramsSerializer","include","images","translation","state","API_ADMIN_SIGHT_LIST","sightList","sight","post","API_ADMIN_SIGHT_CREATE","API_ADMIN_SIGHT_CREATE_BATCH","put","API_MAKE_ADMIN_SIGHT_UPDATE","delete","API_MAKE_ADMIN_SIGHT_DELETE","API_MAKE_ADMIN_SIGHT_TRANSLATE_EDIT","workStatus","API_MAKE_ADMIN_SIGHT_CHANGE_STATUS","work_status","API_MAKE_ADMIN_SIGHT_NEED_REVIEW","API_MAKE_ADMIN_SIGHT_GET_CITIES","cities","CityModel","ExcursionRouteTypeEnum","API_ADMIN_CITY_LIST","portraitImage","landscapeImage","API_MAKE_ADMIN_CITY_SHOW","API_ADMIN_CITY_CREATE","API_MAKE_ADMIN_CITY_DELETE","API_MAKE_ADMIN_CITY_EDIT","API_MAKE_ADMIN_CITY_TRANSLATE_EDIT","API_MAKE_ADMIN_CITY_CHANGE_STATUS","ADMIN_CREATE_SQUARE_GENERATE_PLACE","url","API_ADMIN_SIGHT_DOWNLOAD_IMAGE","ADMIN_CREATE_FINISH_STATUS_BY_CITY_GENERATE_PLACE","ADMIN_GET_GENERATED_SQUARE_GENERATE_PLACE","relation","noRelation","generatedTypes","then","res","viewport","northeast","southwest","photo_ref","photoReference","photo_reference","placeId","defaultFields","requestDetailPlace","catch","error","currentParams","direction","LatLngBounds","extend","LatLng","position","icon","props","Marker","color","Rectangle","strokeColor","strokeOpacity","strokeWeight","fillColor","fillOpacity","getNorthEast","path","Polyline","geodesic","pinSVGFilled","labelOriginFilled","Point","anchor","scale","labelOrigin","getSouthWest","undefined","time","mountain","building","castle","garden","historical_and_protected_object","monument","palace","art_museum","historical_museum","science_museum","opera_theatre","forest","national_park","natural_park","API_ADMIN_COUNTRY_LIST","officialLanguage","currency","capital","countryList","CountryModel","API_MAKE_ADMIN_COUNTRY_SHOW","API_ADMIN_COUNTRY_CREATE","API_MAKE_ADMIN_COUNTRY_UPDATE","API_MAKE_ADMIN_COUNTRY_TRANSLATE_EDIT","API_MAKE_ADMIN_COUNTRY_DELETE"],"mappings":"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","file":"static/js/42.5197abf9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"typeWrapper\":\"PlaceTypes_typeWrapper__3CJs2\",\"typeWrapper__type\":\"PlaceTypes_typeWrapper__type__2qvtC\",\"active\":\"PlaceTypes_active__1sive\"};","export default class GenerationTypeEnums{\n    static get manual(){ return \"manual\" }\n    static get custom(){ return \"custom\" }\n}\n","/**\n * external libs\n */\nimport React, {useState, useEffect, useContext} from 'react';\nimport {Button, Input, Select} from 'antd';\n/**\n * utils\n */\nimport PlaceTypeTranslate from \"../../../../../../../utils/PlaceTypeTranslate\";\n/**\n * services\n */\nimport CityService from \"../../../../../../../services/admin/city.service\";\nimport GenerationPlaceService from \"../../../../../../../services/admin/generationPlace.service\";\n/**\n * enums\n */\nimport GenerationTypeEnums from \"../../../../../../../enums/GenerationType\";\nimport FoursquarePlaceTypeEnum from \"../../../../../../../enums/FoursquarePlaceType\";\n/**\n * context\n */\nimport {DictionaryContext} from \"../../../../../../context/dictionary.context\";\nimport GoogleClient from \"../../../../../../../utils/GoogleClient\";\n\nexport default function ManualContent({generatePlacesByCity, generationFinishCity, countryId, setLoading, mapRef}) {\n    const [countOfLimitSearch, setCountOfLimitSearch] = useState(0)\n    const [cityList, setCityList] = useState([])\n    const [city, setCity] = useState(null)\n    const [types, setTypes] = useState([])\n    const [type, setType] = useState(null)\n    const {dictionary} = useContext(DictionaryContext)\n\n    const getCity = async (cityId) => {\n        const city = await CityService.show(cityId)\n\n        await getType(city)\n        setCity(city)\n    }\n\n    const getCityList = async () => {\n        const {data} = await GenerationPlaceService.cityWhiteList({\n            country_id: countryId,\n            type: GenerationTypeEnums.manual,\n            per_page: 1000000\n        })\n\n        setCityList(data.map(({id, name}) => ({value: id, label: name})));\n    }\n\n    const startManualGenerate = async () => {\n        if (!city) {\n            return;\n        }\n\n        if(countOfLimitSearch > 50){\n            return;\n        }\n\n        const {failed} = await generatePlacesByCity(city, [type], countOfLimitSearch)\n\n        setLoading(false)\n\n        if (failed) {\n            console.log('failed END')\n            return;\n        }\n\n        await generationFinishCity(city.id, GenerationTypeEnums.manual, dictionary.place_types.list.map(({value}) => value))\n\n        console.log(\"END\")\n    }\n\n    const getType = async (city) => {\n        const isGeneratedTypes = await GenerationPlaceService.generatedSquare({\n            json: {geometry: city.geometry},\n            eq: {\n                type: Object.keys(FoursquarePlaceTypeEnum.typeIds).reduce((accum, key) => ([\n                    ...accum,\n                    FoursquarePlaceTypeEnum.typeIds[key]\n                ]), [])\n            }\n        })\n\n        const uniqTypesId = isGeneratedTypes.data.map(({type}) => +type)\n\n        setTypes(Object.keys(FoursquarePlaceTypeEnum.typeIds).reduce((accum, key) => {\n            if(uniqTypesId.includes(FoursquarePlaceTypeEnum.typeIds[key])){\n                return accum\n            }\n\n            return [\n                ...accum,\n                {\n                    value: FoursquarePlaceTypeEnum.typeIds[key],\n                    label: PlaceTypeTranslate.getTranslateForFoursquareType([key])\n                }\n            ]\n        }, []))\n    }\n\n    useEffect(() => {\n        if (!city) {\n            return\n        }\n\n\n        GoogleClient.getRectangle(\n            mapRef.current,\n            {\n                north: city.geometry.north, //noth lat\n                south: city.geometry.south, //south lat\n                east: city.geometry.east, //noth lng\n                west: city.geometry.west, //south lng\n            },\n            \"#001529\"\n        )\n    }, [city])\n\n    useEffect(() => {\n        getCityList()\n    }, [])\n\n\n    if (!cityList) {\n        return null\n    }\n\n    return (\n        <div>\n            <div style={{display: \"flex\", gap: 10, alignItems: \"center\", marginBottom: -10}}>\n                <Button type=\"primary\"\n                        onClick={startManualGenerate}\n                        disabled={(city === null) || !type || !countOfLimitSearch}\n                        style={{width: \"100%\"}}>Manual\n                    generation</Button>\n            </div>\n            <div style={{margin: \"20px 0\"}}>\n                <Select\n                    size=\"large\"\n                    placeholder={\"Select city\"}\n                    options={cityList}\n                    showSearch={true}\n                    style={{minWidth: \"100%\"}}\n                    filterOption={(text, {value, label}) => {\n                        const textLowerCase = text.trim().toLowerCase()\n                        const labelLowerCase = label.toLowerCase()\n                        const valueLowerCase = value.toString().toLowerCase()\n                        return labelLowerCase.includes(textLowerCase) || valueLowerCase.includes(text)\n                    }}\n                    onChange={getCity}\n                />\n                {city && (\n                    <>\n                        <Select\n                            size=\"large\"\n                            placeholder={\"Select type\"}\n                            options={types}\n                            showSearch={true}\n                            style={{minWidth: \"100%\", marginTop: 8}}\n                            filterOption={(text, {value, label}) => {\n                                const textLowerCase = text.trim().toLowerCase()\n                                const labelLowerCase = label.toLowerCase()\n                                const valueLowerCase = value.toString().toLowerCase()\n                                return labelLowerCase.includes(textLowerCase) || valueLowerCase.includes(text)\n                            }}\n                            onChange={setType}\n                        />\n                        {type && (\n                            <Input\n                                placeholder=\"Count of search (max 50)...\"\n                                value={countOfLimitSearch}\n                                onChange={e => setCountOfLimitSearch(+e.target.value)}\n                                style={{marginTop: 8, display: 'block'}}\n                            />\n                        )}\n                    </>\n                )}\n            </div>\n        </div>\n    )\n}\n","/**\n * external libs\n */\nimport React, {useEffect, useRef, useState} from 'react';\n/**\n * styles\n */\nimport styles from \"./index.module.scss\";\n/**\n * utils\n */\nimport PlaceTypeTranslate from \"../../../../../../../utils/PlaceTypeTranslate\";\n\nexport default function Park({setPlaceTypes, placeTypes, places}) {\n    return (\n        <div className={styles.typeWrapper}>\n            {places.map( type => (\n                <div className={`${styles.typeWrapper__type} ${placeTypes === type && styles.active}`} onClick={() => setPlaceTypes(type)}>\n                    {PlaceTypeTranslate.getTranslateForType(type)}\n                </div>\n            ))}\n        </div>\n    )\n}\n","/**\n * external libs\n */\nimport React, {useEffect, useContext, useRef, useState} from 'react';\nimport {Button, Form, Radio} from 'antd';\n/**\n * components\n */\nimport PlaceType from \"../PlaceTypes\";\n/**\n * utils\n */\nimport PlaceTypeTranslate from \"../../../../../../../utils/PlaceTypeTranslate\";\nimport GoogleClient from \"../../../../../../../utils/GoogleClient\";\n/**\n * services\n */\nimport GenerationPlaceService from \"../../../../../../../services/admin/generationPlace.service\";\n/**\n * enums\n */\nimport PlaceTypeEnum from \"../../../../../../../enums/PlaceType\";\n/**\n * context\n */\nimport {DictionaryContext} from \"../../../../../../context/dictionary.context\";\n\nconst typeColor = {\n    [PlaceTypeEnum.amusement_park]: \"green\",\n    [PlaceTypeEnum.aquarium]: \"red\",\n    [PlaceTypeEnum.tourist_attraction]: \"gray\",\n    [PlaceTypeEnum.zoo]: \"black\",\n    [PlaceTypeEnum.restaurant]: \"blue\",\n}\n\nexport default function AutomaticContent({ getRectangle, countryId, mapRef }){\n    const {dictionary} = useContext(DictionaryContext)\n    const [placeTypes, setPlaceTypes] = useState(null)\n    const [geometry, setGeometry] = useState(null)\n    const rectangle = useRef(null)\n    const timeOutId = useRef(null)\n    const allGeneratedSquare = useRef([])\n\n    const generateSquareByGeometry = async () => {\n        //KIYV\n        GoogleClient.getRectangle(\n            mapRef.current,\n            {\n                north: 50.590798, //noth lat\n                south: 50.213273, //south lat\n                east: 30.825941, //noth lng\n                west: 30.2394401, //south lng\n            }\n        )\n\n        // const {failed, message, type} = await getRectangle(\n        //     {\n        //         geometry,\n        //         cityId: null,\n        //         placeTypes: placeTypes\n        //     }\n        // )\n        //\n        // if (failed) {\n        //     // socket.emit('pushLog', {\n        //     //     success: false,\n        //     //     cityId: city.id,\n        //     //     geometry_square: {\n        //     //       ...geometry\n        //     //     },\n        //     //     message,\n        //     //     type,\n        //     // });\n        //\n        //     return {failed: true}\n        // }\n\n        // rectangle.current.setOptions({\n        //     editable: false,\n        //     draggable: false,\n        // })\n    }\n\n    const  drawRec = () => {\n        const center =  mapRef.current.getCenter();\n        const maxHorizontalDif  = 0.4;\n        const maxVerticalDif = 0.6;\n\n        const squareSize = {\n            north: center.lat() + maxHorizontalDif / 2, //noth lat\n            south: center.lat() - maxHorizontalDif / 2, //south lat\n            east: center.lng() + maxVerticalDif / 2, //noth lng = 0.05\n            west: center.lng() - maxVerticalDif / 2, //south lng = 0.05\n        };\n\n        rectangle.current = GoogleClient.getRectangle(\n            mapRef.current,\n            squareSize,\n            \"blue\",\n            {\n                draggable: true,\n                editable: true,\n            }\n        )\n\n        rectangle.current.addListener(\"bounds_changed\", () => {\n            clearTimeout(timeOutId.current);\n            timeOutId.current = setTimeout(() => {\n                const bounds = rectangle.current.getBounds()\n                const center = bounds.getCenter();\n                const centerHorizontalLat = center.lat();\n                const centerVerticalLng = center.lng();\n\n                let newGeometry = GoogleClient.parseBounds(bounds)\n\n                if(geometry && geometry.north === newGeometry.north && geometry.east === newGeometry.east && geometry.west === newGeometry.west && geometry.south === newGeometry.south){\n                    return;\n                }\n\n                const difHorizontal = newGeometry.north - newGeometry.south;\n                const difVertical = newGeometry.east - newGeometry.west;\n\n                const errorDifHorizontal = maxHorizontalDif < difHorizontal;\n                const errorDifVertical = maxVerticalDif < difVertical;\n\n                if(errorDifHorizontal){\n                    newGeometry = {\n                        ...newGeometry,\n                        north: centerHorizontalLat - maxHorizontalDif / 2,\n                        south: centerHorizontalLat + maxHorizontalDif / 2,\n                    }\n                }\n                if(errorDifVertical){\n                    newGeometry = {\n                        ...newGeometry,\n                        west: centerVerticalLng - maxVerticalDif / 2,\n                        east: centerVerticalLng + maxVerticalDif / 2,\n                    }\n                }\n\n                if(errorDifHorizontal || errorDifVertical){\n                    setGeometry(newGeometry)\n                    rectangle.current.setOptions({\n                        bounds: newGeometry\n                    })\n                }\n            },500);\n        });\n    }\n\n    const  close = () => {\n\n    }\n\n    const drawSquareByPlaceType = async () => {\n        if(!placeTypes){\n            return;\n        }\n\n        allGeneratedSquare.current.forEach(( square ) => {\n            square.setMap(null)\n        })\n\n        const {data} = await GenerationPlaceService.generatedSquare({\n            eq: {\n                country_id: [countryId],\n                type: [placeTypes]\n            },\n            per_page: 1000000,\n        });\n\n\n        allGeneratedSquare.current = data.map(({geometry}) => (\n            GoogleClient.getRectangle(\n                mapRef.current,\n                geometry\n            )\n        ))\n    }\n\n    useEffect(() => {\n       drawSquareByPlaceType()\n    }, [placeTypes])\n\n    return (\n        <div>\n            <div style={{display: \"flex\", gap: 10, alignItems: \"center\"}}>\n                <Button type=\"primary\" onClick={generateSquareByGeometry} style={{width: \"100%\"}}>Custom generation</Button>\n                <Button type=\"primary\" onClick={drawRec} style={{width: \"100%\"}}>Draw</Button>\n                <Button type=\"primary\" onClick={close} style={{width: \"100%\"}}>close</Button>\n            </div>\n            <PlaceType places={dictionary.place_types.list.map(({value}) => value)}\n                       setPlaceTypes={setPlaceTypes}\n                       placeTypes={placeTypes}\n            />\n            <div style={{display: \"flex\", flexDirection: \"column\", gap: 15, marginBottom: 10}}>\n                {Object.keys(typeColor).map(type => (\n                    <div style={{display: \"flex\", alignItems: \"center\"}}>\n                        <div style={{width: 10, height: 10, backgroundColor: typeColor[type]}}/>\n                        <span> :{PlaceTypeTranslate.getTranslateForType(type)}</span>\n                    </div>\n                ))}\n            </div>\n        </div>\n    )\n}\n","/**\n * external libs\n */\nimport React, { useState } from 'react';\nimport { Radio } from 'antd';\n/**\n * enums\n */\nimport GenerationTypeEnums from \"../../../../../../../enums/GenerationType\";\n\nexport default function RadioGenerationType({generationType, setGenerationType}){\n    return (\n        <Radio.Group onChange={e => setGenerationType(e.target.value)} defaultValue={generationType}>\n            <Radio value={GenerationTypeEnums.manual}>Manual</Radio>\n            <Radio value={GenerationTypeEnums.custom}>Custom</Radio>\n        </Radio.Group>\n    )\n}\n","import GenerationPlaceService from \"../services/admin/generationPlace.service\";\nimport ExcursionRouteTypeEnum from \"../enums/ExcursionRouteType\";\nimport {QueryString} from \"./Querystring\";\n\nexport default class FoursquareClient {\n    static key = process.env.REACT_APP_FOURSQUARE_API\n\n    static async getPlaces (searchParams = {}){\n        // categories=${foursquareType}&ne=52.3679992%2C21.2710984&sw=52.0978767%2C20.8512898&limit=${limit}\n\n        try {\n            const {results} = await (await fetch(`https://api.foursquare.com/v3/places/search?${QueryString.stringify(searchParams)}`, {\n                headers: {\n                    Authorization: this.key,\n                    accept: 'application/json'\n                }\n            })).json()\n\n            return results\n\n        } catch (e) {\n            return []\n        }\n    }\n\n    static async getPlacesDetails (foursquarePlaceId, fields = []){\n        try {\n            const placeDetails = await (await fetch(`https://api.foursquare.com/v3/places/${foursquarePlaceId}?${QueryString.stringify({fields: fields.join(\",\")})}`, {\n                headers: {\n                    Authorization: this.key,\n                    accept: 'application/json'\n                }\n            })).json()\n\n            console.log(placeDetails, \"placeDetails\")\n\n            placeDetails.opening_hours = this.parseOpeningHours(placeDetails.hours.regular)\n            delete placeDetails.hours;\n\n            return placeDetails\n        } catch (e) {\n            return null\n        }\n    }\n\n    static async getPhotoFile (photoUrl){\n        try {\n            await new Promise(resolve => setTimeout(resolve, 400))\n            const file = await GenerationPlaceService.downloadImage(photoUrl)\n\n            return file?.id ? file : null;\n        } catch (e) {\n            return null\n        }\n    }\n\n    static async getPhotosId( foursquarePlaceId ){\n        let photosList = [];\n        let photos =  await fetch(`https://api.foursquare.com/v3/places/${foursquarePlaceId}/photos`, {\n            headers: {\n                Authorization: this.key,\n                accept: 'application/json'\n            }\n        })\n\n        if(photos.status === 200){\n            photosList = await photos.json()\n        }else{\n            return []\n        }\n\n        let filesIds = [];\n        const shortPhotosList = photosList?.filter((_, index) => index < 3) || [];\n\n        if(!shortPhotosList.length) {\n            return []\n        }\n\n        for (let i = 0; i < shortPhotosList.length; i++) {\n            const photo = shortPhotosList[i];\n            const photoUrl = `${photo.prefix}original${photo.suffix}`\n\n\n            await new Promise(resolve => setTimeout(resolve, 400))\n            const file = await this.getPhotoFile(photoUrl)\n\n            if (file?.id) {\n                filesIds = [...filesIds, file.id]\n            }\n        }\n\n        return filesIds\n    }\n\n    static parseOpeningHours( openingHours ){\n        const days = [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"]\n        let formatOpeningHours = null\n\n        if(openingHours){\n            formatOpeningHours = openingHours.reduce( (result, openHour) => {\n                const openTimeSplit = openHour.open.split('+')\n                const closeTimeSplit = openHour.open.split('+')\n                const openTimeFormat = openTimeSplit.length === 1 ? openTimeSplit[0] : openTimeSplit[1]\n                const closeTimeFormat = closeTimeSplit.length === 1 ? closeTimeSplit[0] : closeTimeSplit[1]\n                const openTime = openTimeFormat === \"2359\" ? \"0000\" : openTimeFormat\n                const closeTime = closeTimeFormat === \"2359\" ? \"0000\" : closeTimeFormat\n\n                return {\n                    ...result,\n                    [days[openHour.day - 1]]: {\n                        open: `${openTime.slice(0, 2)}:${openTime.slice(2, 4)}`,\n                        close: `${closeTime.slice(0, 2)}:${closeTime.slice(2, 4)}`,\n                    }\n                }\n            }, {})\n\n            return formatOpeningHours\n        }\n\n        return formatOpeningHours\n    }\n\n}\n","/**\n * external libs\n */\nimport React, {useContext, useEffect, useRef, useState} from 'react';\nimport {useParams} from \"react-router-dom\";\n/**\n * components\n */\nimport ManualContent from './components/ManualContent'\nimport CustomContent from './components/CustomContent'\nimport RadioGenerationType from './components/RadioGenerationType'\n/**\n * enums\n */\nimport GenerationTypeEnums from \"../../../../../enums/GenerationType\";\nimport FoursquarePlaceTypeEnum from \"../../../../../enums/FoursquarePlaceType\";\n/**\n * service\n */\nimport GenerationPlaceService from \"../../../../../services/admin/generationPlace.service\";\nimport SightService from \"../../../../../services/admin/sight.service\";\nimport CountryService from \"../../../../../services/admin/country.service\";\n/**\n * utils\n */\nimport GoogleClient from \"../../../../../utils/GoogleClient\";\nimport FoursquareClient from \"../../../../../utils/FoursquareClient\";\n\nexport default function GeneratePlace() {\n    const {countryId} = useParams();\n    const [generationType, setGenerationType] = useState(GenerationTypeEnums.manual)\n    const [country, setCountry] = useState(null)\n    const [loading, setLoading] = useState(false)\n    const mapBlockRef = useRef(null);\n    const squareRef = useRef(null);\n    const mapRef = useRef(null);\n\n    console.log(country, \"country\")\n\n    const mapInit = async (geometry = {}) => {\n        const opt = {\n            center: {lat: 51.514316, lng: -0.129761},\n            zoom: 4,\n            restriction: {\n                latLngBounds: {\n                    ...geometry\n                },\n                strictBounds: true\n            },\n        }\n\n\n        mapRef.current = new window.google.maps.Map(mapBlockRef.current, opt)\n    }\n\n    const generatePlacesByCity = async (city, placeTypes = [], limit) => {\n        setLoading(true)\n        if (!city.geometry || !placeTypes.length) {\n            return {failed: false};\n        }\n\n        let currentI = 1;\n        let currentJ = 1;\n\n        const forLoop = async _ => {\n            for (let i = 0; i < placeTypes.length; i++) {\n                const currentType = placeTypes[i];\n\n                //Берем колл-во квадратов по которым ходим. Есть значения захардкодженые, а есть с базы\n                let countStep = 1;\n\n                //Ширина и Высота квадрата по которому идем (сити геометрия)\n                const placeHeightCoordinate = city.geometry.north - city.geometry.south;\n                const placeWidthCoordinate = city.geometry.east - city.geometry.west;\n\n                //Делим этот квадрат (сити геометрию) на колл-во шагов\n                const stepHorizontal = placeWidthCoordinate / countStep;\n                const stepVertical = placeHeightCoordinate / countStep;\n\n                currentI = 1;\n                for (currentI; currentI <= countStep; currentI++) {\n                    currentJ = 1;\n                    for (currentJ; currentJ <= countStep; currentJ++) {\n\n                        await new Promise(resolve => setTimeout(resolve, 500))\n\n                        //Берем один текузий квадрат\n                        const {failed, message, type} = await getRectangle(\n                            {\n                                geometry: {\n                                    north: city.geometry.south + (stepVertical * currentI),\n                                    east: city.geometry.west + (stepHorizontal * currentJ),\n                                    south: city.geometry.south + (stepVertical * (currentI - 1)),\n                                    west: city.geometry.west + (stepHorizontal * (currentJ - 1)),\n                                },\n                                city: city,\n                                type: currentType,\n                                limit,\n                            }\n                        )\n\n                        if (failed) {\n                            return {failed: true}\n                        }\n                    }\n                }\n            }\n\n            if (squareRef.current) {\n                squareRef.current.setMap(null)\n            }\n\n            return {failed: false}\n        }\n\n        try {\n            return await forLoop()\n        } catch (e) {\n            if (squareRef.current) {\n                squareRef.current.setMap(null)\n            }\n\n            return {\n                failed: true,\n                city_id: city.id,\n                message: e.message,\n                type: null,\n                indexI: currentI,\n                indexJ: currentJ,\n            };\n        }\n    }\n    const getRectangle = async ({geometry, city, type, limit, countStep}) => {\n        try {\n            //Получение геометрии квадрата, его отрисовка на UI\n            const {north, south, east, west} = geometry;\n            const bounds = GoogleClient.getBounds(north, south, east, west)\n\n            if (squareRef.current) {\n                squareRef.current.setMap(null)\n            }\n\n            squareRef.current = GoogleClient.getRectangle(\n                mapRef.current,\n                GoogleClient.parseBounds(bounds)\n            );\n\n            //После получения и отрисовски всех данных идем получать плейсы\n            return await getPlaces(bounds, city, type, limit)\n        } catch (e) {\n            return {\n                failed: true,\n                message: e.message,\n                type: null\n            }\n        }\n\n    }\n    const getPlaces = async (bounds, city, foursquareType, limit) => {\n        let lastType = null;\n\n        const forLoop = async () => {\n            lastType = foursquareType\n            const type = Object.keys(FoursquarePlaceTypeEnum.typeOriginIds).reduce((accum, type) => {\n                const foursquareIdsForType = FoursquarePlaceTypeEnum.typeOriginIds[type]\n                if (foursquareIdsForType.includes(foursquareType)) {\n                    return type\n                }\n\n                return accum\n            }, null)\n\n            const geometry = GoogleClient.parseBounds(bounds)\n\n            const isGenerate = await GenerationPlaceService.generatedSquare({\n                json: {geometry},\n                eq: {type: [foursquareType]}\n            })\n\n            if (isGenerate.data.length) {\n                return {failed: false};\n            }\n\n            await new Promise(async (resolve, reject) => {\n                let placesToDB = []\n                const places = await FoursquareClient.getPlaces({\n                    categories: foursquareType,\n                    ne: `${geometry.north},${geometry.east}`,\n                    sw: `${geometry.south},${geometry.west}`,\n                    limit: limit\n                })\n\n\n                if (!places.length) {\n                    await GenerationPlaceService.create({\n                        country_id: countryId,\n                        geometry,\n                        type: `${foursquareType}`\n                    });\n                    resolve()\n                }\n\n                for (let i = 0; i < places.length; i++) {\n                    try {\n                        const place = places[i]\n\n                        let placeToBd = {\n                            city_id: city.id,\n                            country_id: countryId,\n                            translatable: {\n                                name: place.name\n                            },\n                            original_name: place.name,\n                            formatted_address: place.location.formatted_address,\n                            foursquare_place_id: place.fsq_id,\n                            check_coordinates: false,\n                            place_type: [type],\n                            latitude: place.geocodes.main.latitude,\n                            longitude: place.geocodes.main.longitude,\n                        }\n\n                        await new Promise(resolve => setTimeout(resolve, 200))\n\n                        placeToBd.files_ids = await FoursquareClient.getPhotosId(placeToBd.foursquare_place_id)\n\n                        const placeDetails = await FoursquareClient.getPlacesDetails(placeToBd.foursquare_place_id, [\"tel\", \"website\", \"hours\"])\n\n                        if (placeDetails) {\n                            placeToBd.website = placeDetails?.website || null;\n                            placeToBd.international_phone_number = placeDetails?.tel || null;\n                            placeToBd.opening_hours = placeDetails?.opening_hours || null;\n                        }\n\n                        GoogleClient.getMarker(\n                            mapRef.current,\n                            {lat: placeToBd.latitude, lng: placeToBd.longitude},\n                        )\n\n                        placesToDB = [...placesToDB, placeToBd]\n                    } catch (error) {\n                        return reject({\n                            message: error.message,\n                        })\n                    }\n                }\n\n                await SightService.createBatch({sights: placesToDB.filter(place => place.files_ids.length)})\n\n                await GenerationPlaceService.create({\n                    country_id: countryId,\n                    geometry,\n                    type: `${foursquareType}`\n                })\n\n                resolve()\n            })\n        }\n\n        try {\n            return await forLoop()\n        } catch (error) {\n            return {\n                failed: true,\n                message: error.message,\n                type: lastType\n            };\n        }\n    }\n\n    const generationFinishCity = async (cityId, generationType, placeTypes) => {\n        await GenerationPlaceService.finish({\n            city_id: cityId,\n            generation_type: generationType,\n            types: placeTypes\n        })\n    }\n\n    const getCountry = async () => {\n        const country = await CountryService.show(countryId)\n        setCountry(country)\n\n        return country\n    }\n\n    useEffect(() => {\n        getCountry()\n    }, [])\n\n    useEffect(() => {\n        if (!generationType || !country?.geometry) {\n            return;\n        }\n\n        mapInit(country.geometry)\n    }, [generationType, country?.geometry])\n\n\n    return (\n        <div>\n            <div style={{display: \"flex\", gap: 50}}>\n                <div ref={mapBlockRef} style={{width: \"70%\", height: 500}}/>\n                <div style={{width: \"30%\"}}>\n\n                    <RadioGenerationType generationType={generationType}\n                                         setGenerationType={setGenerationType}/>\n                    <div style={{paddingTop: 20}}>\n                        {generationType === GenerationTypeEnums.manual && (\n                            <ManualContent generationFinishCity={generationFinishCity}\n                                           generatePlacesByCity={generatePlacesByCity}\n                                           countryId={countryId}\n                                           setLoading={setLoading}\n                                           mapRef={mapRef}/>\n                        )}\n                        {generationType === GenerationTypeEnums.custom && (\n                            <CustomContent countryId={countryId} getRectangle={getRectangle} mapRef={mapRef}/>\n                        )}\n                    </div>\n                    {loading && (\n                        <svg xmlns=\"http://www.w3.org/2000/svg\"\n                             version=\"1.0\" width=\"64px\" height=\"64px\"\n                             viewBox=\"0 0 128 128\" >\n                            <rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" fill=\"#f0f2f5\"/>\n                            <g>\n                                <path\n                                    d=\"M64 128A64 64 0 0 1 18.34 19.16L21.16 22a60 60 0 1 0 52.8-17.17l.62-3.95A64 64 0 0 1 64 128z\"\n                                    fill=\"#000000\"/>\n                                <animateTransform attributeName=\"transform\" type=\"rotate\" from=\"0 64 64\" to=\"360 64 64\"\n                                                  dur=\"1400ms\" repeatCount=\"indefinite\"/>\n                            </g>\n                        </svg>\n                    )}\n                </div>\n            </div>\n        </div>\n    )\n}\n","export default class PlaceTypeEnum{\n    static get reserve(){ return \"reserve\" }\n    static get botanical_garden(){ return \"botanical_garden\" }\n    static get beach(){ return \"beach\" }\n    static get mountains(){ return \"mountains\" }\n    static get sea(){ return \"sea\" }\n    static get lake(){ return \"lake\" }\n    static get restaurant(){ return \"restaurant\" }\n    static get art_gallery(){ return \"art_gallery\" }\n    static get tourist_attraction(){ return \"tourist_attraction\" }\n    static get campground(){ return \"campground\" }\n    static get church(){ return \"church\" }\n    static get mosque(){ return \"mosque\" }\n    static get museum(){ return \"museum\" }\n    static get theater(){ return \"theater\" }\n    static get park(){ return \"park\" }\n    static get place_of_view(){ return \"place_of_view\" }\n\n    static get googleTypesListManual(){\n        return [\n        ]\n    }\n    static get googleTypesListAutomatic(){\n        return [\n        ]\n    }\n    static get googleTypesList(){\n        return [\n        ]\n    }\n\n    static get customTypesList(){\n        return [\n            PlaceTypeEnum.reserve,\n            PlaceTypeEnum.botanical_garden,\n            PlaceTypeEnum.beach,\n            PlaceTypeEnum.mountains,\n            PlaceTypeEnum.sea,\n            PlaceTypeEnum.lake,\n            PlaceTypeEnum.restaurant,\n            PlaceTypeEnum.art_gallery,\n            PlaceTypeEnum.tourist_attraction,\n            PlaceTypeEnum.campground,\n            PlaceTypeEnum.church,\n            PlaceTypeEnum.mosque,\n            PlaceTypeEnum.museum,\n            PlaceTypeEnum.theater,\n            PlaceTypeEnum.park,\n            PlaceTypeEnum.place_of_view,\n        ]\n    }\n\n    static get list(){\n        return [\n            ...PlaceTypeEnum.customTypesList,\n            ...PlaceTypeEnum.googleTypesList,\n        ]\n    }\n}\n","/**\n *service\n */\nimport axios from 'axios'\n/**\n * const\n */\nimport {\n    API_ADMIN_SIGHT_CREATE, API_ADMIN_SIGHT_CREATE_BATCH,\n    API_ADMIN_SIGHT_LIST,\n    API_MAKE_ADMIN_SIGHT_CHANGE_STATUS,\n    API_MAKE_ADMIN_SIGHT_DELETE,\n    API_MAKE_ADMIN_SIGHT_GET_CITIES,\n    API_MAKE_ADMIN_SIGHT_NEED_REVIEW,\n    API_MAKE_ADMIN_SIGHT_SHOW,\n    API_MAKE_ADMIN_SIGHT_TRANSLATE_CREATE,\n    API_MAKE_ADMIN_SIGHT_TRANSLATE_EDIT,\n    API_MAKE_ADMIN_SIGHT_UPDATE,\n} from \"../../constants/admin/api.constant\";\n/**\n * utils\n */\nimport {QueryString} from \"../../utils/Querystring\";\n/**\n * model\n */\nimport SightModel from \"../../model/Sight/sight.model\";\nimport CityModel from \"../../model/City/city.model\";\n\nexport default class SightService {\n    static async show(sightId, params = {}) {\n        return new SightModel(await axios.get(API_MAKE_ADMIN_SIGHT_SHOW(sightId, {\n            params,\n            paramsSerializer: params => {\n                return QueryString.stringify({\n                    ...params,\n                    include: {\n                        images: null,\n                        translation: null,\n                        city: {\n                            include: {\n                                translation: null,\n                                state: {\n                                    include: {\n                                        translation: null,\n                                        country: {\n                                            include: {\n                                                translation: null,\n                                            }\n                                        },\n                                    }\n                                },\n                            }\n                        },\n                        ...params.include,\n                    }\n                })\n            }\n        })));\n    }\n\n    static async list(params) {\n        let sightList = await axios.get(API_ADMIN_SIGHT_LIST, {\n            params,\n            paramsSerializer: params => {\n                return QueryString.stringify({\n                    ...params,\n                    include: {\n                        images: null,\n                        translation: null,\n                        city: {\n                            include: {\n                                translation: null,\n                                state: {\n                                    include: {\n                                        translation: null,\n                                        country: {\n                                            include: {\n                                                translation: null,\n                                            }\n                                        },\n                                    }\n                                },\n                            }\n                        },\n                        ...params.include,\n                    }\n                })\n            }\n        });\n\n\n        sightList.data = sightList.data.map(sight => new SightModel(sight))\n\n        return sightList;\n    }\n\n    static async create(data) {\n        return new SightModel(await axios.post(API_ADMIN_SIGHT_CREATE, data));\n    }\n\n    static async createBatch(data) {\n        return new SightModel(await axios.post(API_ADMIN_SIGHT_CREATE_BATCH, data));\n    }\n\n    static async update(sightId, data) {\n        return new SightModel(await axios.put(API_MAKE_ADMIN_SIGHT_UPDATE(sightId), data));\n    }\n\n    static async delete(sightId) {\n        return await axios.delete(API_MAKE_ADMIN_SIGHT_DELETE(sightId));\n    }\n\n\n    static async updateTranslate(sightId, data) {\n        return await axios.put(API_MAKE_ADMIN_SIGHT_TRANSLATE_EDIT(sightId), data);\n    }\n\n    static async updateWorkStatus(sightId, workStatus) {\n        return await axios.put(API_MAKE_ADMIN_SIGHT_CHANGE_STATUS(sightId), {work_status: workStatus});\n    }\n\n    static async needReview(sightId, data) {\n        return await axios.put(API_MAKE_ADMIN_SIGHT_NEED_REVIEW(sightId), data);\n    }\n\n    static async getCitiesBySight(sightId, params = {}) {\n        const cities = await axios.get(API_MAKE_ADMIN_SIGHT_GET_CITIES(sightId), {\n            params,\n            paramsSerializer: params => {\n                return QueryString.stringify({\n                    ...params,\n                    include: {\n                        translation: null,\n                        ...params.include,\n                    }\n                })\n            }\n        })\n\n        return cities.data.map(city => new CityModel(city));\n    }\n}\n\n","export default class ExcursionRouteTypeEnum{\n    static get walking(){ return \"walking\" }\n    static get driving(){ return \"driving\" }\n}\n","/**\n *service\n */\nimport axios from 'axios'\n/**\n * const\n */\nimport {\n    API_ADMIN_CITY_CREATE,\n    API_MAKE_ADMIN_CITY_DELETE,\n    API_ADMIN_CITY_LIST,\n    API_MAKE_ADMIN_CITY_TAXI_CREATE,\n    API_MAKE_ADMIN_CITY_SHOW,\n    API_MAKE_ADMIN_CITY_EDIT,\n    API_MAKE_ADMIN_CITY_TAXI_EDIT,\n    API_MAKE_ADMIN_CITY_TRANSLATE_EDIT,\n    API_MAKE_ADMIN_CITY_CHANGE_STATUS,\n} from \"../../constants/admin/api.constant\";\n/**\n * utils\n */\nimport {QueryString} from \"../../utils/Querystring\";\n/**\n * model\n */\nimport CityModel from \"../../model/City/city.model\";\n\nexport default class CityService {\n    static async list(params) {\n        let cityList = await axios.get(API_ADMIN_CITY_LIST, {\n            params,\n            paramsSerializer: params => {\n                return QueryString.stringify({\n                    ...params,\n                    include: {\n                        translation: null,\n                        portraitImage: null,\n                        landscapeImage: null,\n                        state: {\n                            include: {\n                                translation: null,\n                            }\n                        },\n                        country: {\n                            include: {\n                                translation: null,\n                            }\n                        },\n                        ...params.include\n                    }\n                })\n            }\n        });\n\n        cityList.data = cityList.data.map(city => new CityModel(city));\n\n        return cityList;\n    }\n\n    static async show(cityId, params = {}) {\n        return new CityModel(await axios.get(API_MAKE_ADMIN_CITY_SHOW(cityId, {\n            params,\n            paramsSerializer: params => {\n                return QueryString.stringify({\n                    ...params,\n                    include: {\n                        translation: null,\n                        state: {\n                            include: {\n                                translation: null,\n                            }\n                        },\n                        country: {\n                            include: {\n                                translation: null,\n                            }\n                        },\n                        ...params.include\n                    }\n                })\n            }\n        })));\n    }\n\n    static async create(data) {\n        return new CityModel(await axios.post(API_ADMIN_CITY_CREATE, data));\n    }\n\n    static async delete(cityId) {\n        return await axios.delete(API_MAKE_ADMIN_CITY_DELETE(cityId))\n    }\n\n    static async update(cityId, data) {\n        return new CityModel(await axios.put(API_MAKE_ADMIN_CITY_EDIT(cityId), data));\n    }\n\n    static async updateTranslate(cityId, data) {\n        return await axios.put(API_MAKE_ADMIN_CITY_TRANSLATE_EDIT(cityId), data);\n    }\n\n    static async updateWorkStatus(cityId, workStatus) {\n        return await axios.put(API_MAKE_ADMIN_CITY_CHANGE_STATUS(cityId), {work_status: workStatus});\n    }\n}\n\n","/**\n *service\n */\nimport axios from 'axios'\n/**\n * const\n */\nimport {\n    ADMIN_CREATE_FINISH_STATUS_BY_CITY_GENERATE_PLACE,\n    ADMIN_CREATE_SQUARE_GENERATE_PLACE,\n    ADMIN_GET_GENERATED_SQUARE_GENERATE_PLACE,\n    API_ADMIN_CITY_LIST,\n    API_ADMIN_SIGHT_DOWNLOAD_IMAGE,\n} from \"../../constants/admin/api.constant\";\nimport {QueryString} from \"../../utils/Querystring\";\nimport CityModel from \"../../model/City/city.model\";\n\n\nexport default class GenerationPlaceService {\n    static async create(data) {\n        return await axios.post(ADMIN_CREATE_SQUARE_GENERATE_PLACE, data);\n    }\n\n    static async downloadImage(url) {\n        return await axios.post(API_ADMIN_SIGHT_DOWNLOAD_IMAGE, {url})\n    }\n\n    static async finish(data) {\n        return await axios.post(ADMIN_CREATE_FINISH_STATUS_BY_CITY_GENERATE_PLACE, data)\n    }\n\n    static async generatedSquare(params) {\n        return await axios.get(ADMIN_GET_GENERATED_SQUARE_GENERATE_PLACE, {\n            params,\n            paramsSerializer: params => {\n                return QueryString.stringify(params)\n            }\n        })\n    }\n\n    static async cityWhiteList({country_id, type, ...params}) {\n        let cityList =  await axios.get(API_ADMIN_CITY_LIST, {\n            params,\n            paramsSerializer: params => {\n                return QueryString.stringify({\n                    ...params,\n                    relation: {\n                        state: {\n                            relation: {\n                                country: {\n                                    eq: {\n                                        id: [country_id]\n                                    }\n                                }\n                            }\n                        }\n                    },\n                    noRelation: {\n                        generatedTypes: {\n                            eq: {\n                                generation_type: [type]\n                            }\n                        }\n                    },\n                    include: {\n                        translation: null\n                    },\n                })\n            }\n        })\n\n        cityList.data = cityList.data.map(city => new CityModel(city));\n\n        return cityList;\n    }\n}\n\n","import GenerationPlaceService from \"../services/admin/generationPlace.service\";\nimport ExcursionRouteTypeEnum from \"../enums/ExcursionRouteType\";\nimport {QueryString} from \"./Querystring\";\n\nexport default class GoogleClient {\n    static key = process.env.REACT_APP_GEOCODING_API\n\n    static getGeometryForCity(latitude, longitude) {\n        return fetch(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${latitude},${longitude}&result_type=locality&key=${this.key}`)\n            .then(res => res.json())\n            .then(city => {\n                if (city.results[0]) {\n                    const {northeast, southwest} = city.results[0].geometry.viewport;\n\n                    return {\n                        north: northeast.lat, //noth lat up\n                        east: northeast.lng, //noth lng right\n                        south: southwest.lat, //south lat down\n                        west: southwest.lng, //south lng left\n                    }\n                }\n\n                return null\n            })\n    }\n\n    static getGeometryForCountry(latitude, longitude) {\n        return fetch(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${latitude},${longitude}&result_type=country&key=${this.key}`)\n            .then(res => res.json())\n            .then(country => {\n                if (country.results[0]) {\n                    const {northeast, southwest} = country.results[0].geometry.viewport;\n\n                    return {\n                        north: northeast.lat, //noth lat up\n                        east: northeast.lng, //noth lng right\n                        south: southwest.lat, //south lat down\n                        west: southwest.lng, //south lng left\n                    }\n                }\n\n                return null\n            })\n    }\n\n    static async getPhotoFile (photo_ref){\n        try {\n            await new Promise(resolve => setTimeout(resolve, 400))\n            const file = await GenerationPlaceService.downloadImage(`https://maps.googleapis.com/maps/api/place/photo?maxwidth=600&sensor=false&maxheight=800&photo_reference=${photo_ref}&key=${this.key}`)\n\n            return file?.id ? file : null;\n        } catch (e) {\n            return null\n        }\n    }\n\n    static async getPhotosId( photosList ){\n        let filesIds = [];\n        const shortPhotosList = photosList?.filter((_, index) => index === 0) || [];\n\n        if(!shortPhotosList.length) {\n            return []\n        }\n\n        for (let i = 0; i < shortPhotosList.length; i++) {\n            const photoReference = shortPhotosList[i].photo_reference;\n            const file = await this.getPhotoFile(photoReference)\n\n            if (file.id) {\n                filesIds = [...filesIds, file.id]\n            }\n        }\n\n        return filesIds\n    }\n\n    static getPlaceDetails( placeId, fields, props = {} ){\n        const defaultFields = [\n            'international_phone_number',\n            'opening_hours',\n            'website',\n            'geometry',\n            'type',\n            'photo',\n            'formatted_address',\n            'address_components',\n            'name',\n            'place_id',\n        ]\n\n        const requestDetailPlace = {\n            placeId: placeId,\n            fields: fields || defaultFields\n        };\n\n        return fetch(`https://maps.googleapis.com/maps/api/place/details/json?place_id=${requestDetailPlace.placeId}&fields=${requestDetailPlace.fields.join(\",\")}&key=${this.key}`)\n            .then(res => res.json())\n            .then(res => {\n                if(res.status === \"OK\"){\n                    return res.result;\n                }\n\n                if([\"ZERO_RESULTS\", \"NOT_FOUND\"].includes(res.status)){\n                    return null\n                }\n\n                return {\n                    failed: true,\n                    message: res.status\n                }\n            })\n            .catch( error => ({\n                failed: true,\n                message: error\n            }))\n    }\n\n    static getDirection( params ){\n        const currentParams = {\n            key: this.key,\n            ...params,\n        }\n        const url = `https://maps.googleapis.com/maps/api/directions/json?${QueryString.stringify(currentParams)}`\n\n        return fetch(url)\n            .then(res => res.json())\n            .then(direction => {\n                if(direction.status === \"OK\"){\n                    return direction;\n                }\n\n                if([\"ZERO_RESULTS\", \"NOT_FOUND\"].includes(direction.status)){\n                    return null\n                }\n\n                return {\n                    failed: true,\n                    message: direction.status\n                }\n            })\n            .catch( error => ({\n                failed: true,\n                message: error\n            }))\n    }\n\n    static getBounds(north, south, east, west) {\n        const bounds = new window.google.maps.LatLngBounds();\n\n        bounds.extend(new window.google.maps.LatLng(north, east));\n        bounds.extend(new window.google.maps.LatLng(south, west));\n\n        return bounds;\n    }\n\n    static getMarker(map, position = {}, icon = null, props){\n        return new window.google.maps.Marker({\n            position: position,\n            icon,\n            map,\n            ...props\n        })\n    }\n\n    static getRectangle( map, bounds, color = \"blue\", props = {} ){\n        return new window.google.maps.Rectangle({\n            strokeColor: color,\n            strokeOpacity: 0.8,\n            strokeWeight: 2,\n            fillColor: color,\n            fillOpacity: 0.35,\n            bounds: bounds.getNorthEast ? GoogleClient.parseBounds(bounds) : bounds,\n            map,\n            ...props,\n        });\n    }\n\n    static getPolyline( map, path, props = {} ){\n        return new window.google.maps.Polyline({\n            strokeColor: \"#FF0000\",\n            strokeOpacity: 1.0,\n            strokeWeight: 3,\n            geodesic: true,\n            path,\n            map,\n            ...props,\n        })\n    }\n\n    static generateCustomMarker(color = \"black\") {\n        const pinSVGFilled = \"M 12,2 C 8.1340068,2 5,5.1340068 5,9 c 0,5.25 7,13 7,13 0,0 7,-7.75 7,-13 0,-3.8659932 -3.134007,-7 -7,-7 z\";\n        const labelOriginFilled = new window.google.maps.Point(12, 9);\n\n\n        return {\n            path: pinSVGFilled,\n            anchor: new window.google.maps.Point(12, 17),\n            fillOpacity: 1,\n            fillColor: color,\n            strokeWeight: 2,\n            strokeColor: \"white\",\n            scale: 2,\n            labelOrigin: labelOriginFilled\n        };\n    }\n\n    static parseBounds( bounds ){\n        return {\n            north: bounds.getNorthEast().lat(), //noth lat\n            south: bounds.getSouthWest().lat(), //south lat\n            east: bounds.getNorthEast().lng(), //noth lng\n            west: bounds.getSouthWest().lng() //south lng\n        }\n    }\n\n    static parseOpeningHours( openingHours ){\n        const days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"]\n        let formatOpeningHours = null\n\n        if(openingHours){\n            if(openingHours.length === 1 && openingHours[0].close === undefined){\n                formatOpeningHours = days.reduce((result, day ) => ({\n                    ...result,\n                    [day]: {\n                        open: \"00:00\",\n                        close: \"00:00\"\n                    }\n                }), {})\n\n                return formatOpeningHours\n            }\n\n            formatOpeningHours = openingHours.reduce( (result, openHour) => ({\n                ...result,\n                [days[openHour.open.day]]: {\n                    open: `${openHour.open.time.slice(0, 2)}:${openHour.open.time.slice(2, 4)}`,\n                    close: `${openHour.close.time.slice(0, 2)}:${openHour.close.time.slice(2, 4)}`,\n                }\n            }), {})\n\n            return formatOpeningHours\n        }\n\n        return formatOpeningHours\n    }\n\n}\n","import PlaceTypeEnum from \"../enums/PlaceType\";\nimport FoursquarePlaceTypeEnum from \"../enums/FoursquarePlaceType\";\n\nexport default class PlaceTypeTranslate {\n    static getTranslateForType( type ) {\n        const typeObj = {\n            [PlaceTypeEnum.reserve]: \"Заповідник\",\n            [PlaceTypeEnum.botanical_garden]: \"Ботанічний сад\",\n            [PlaceTypeEnum.beach]: \"Пляж\",\n            [PlaceTypeEnum.mountains]: \"Гори\",\n            [PlaceTypeEnum.sea]: \"Море\",\n            [PlaceTypeEnum.lake]: \"Озеро\",\n            [PlaceTypeEnum.art_gallery]: \"Картинна галерея\",\n            [PlaceTypeEnum.tourist_attraction]: \"Туристична пам'ятка\",\n            [PlaceTypeEnum.campground]: \"Кемпінг\",\n            [PlaceTypeEnum.church]: \"Церква\",\n            [PlaceTypeEnum.theater]: \"Театр\",\n            [PlaceTypeEnum.mosque]: \"Мечеть\",\n            [PlaceTypeEnum.museum]: \"Музей\",\n            [PlaceTypeEnum.park]: \"Парк\",\n            [PlaceTypeEnum.restaurant]: \"Ресторан\",\n            [PlaceTypeEnum.place_of_view]: \"Красивый вид\",\n        }\n\n        return typeObj[type] || `ERROR ${type}`\n    }\n\n    static getTranslateForFoursquareType( type ) {\n        const typeObj = {\n            [FoursquarePlaceTypeEnum.place_of_view]: \"Красивое место\",\n            [FoursquarePlaceTypeEnum.reserve]: \"Природный заповедник\",\n            [FoursquarePlaceTypeEnum.botanical_garden]: \"Батонический сад\",\n            [FoursquarePlaceTypeEnum.mountain]: \"Гора\",\n            [FoursquarePlaceTypeEnum.lake]: \"Озеро\",\n            [FoursquarePlaceTypeEnum.restaurant]: \"Ресторан\",\n            [FoursquarePlaceTypeEnum.art_gallery]: \"Арт галлерея\",\n            [FoursquarePlaceTypeEnum.building]: \"Здание и сооружение\",\n            [FoursquarePlaceTypeEnum.castle]: \"Замок\",\n            [FoursquarePlaceTypeEnum.garden]: \"Сад\",\n            [FoursquarePlaceTypeEnum.historical_and_protected_object]: \"Исторический объект и защещеные объекты\",\n            [FoursquarePlaceTypeEnum.monument]: \"Памятник\",\n            [FoursquarePlaceTypeEnum.palace]: \"Дворец\",\n            [FoursquarePlaceTypeEnum.square]: \"Площадь\",\n            [FoursquarePlaceTypeEnum.art_museum]: \"Музей искуств\",\n            [FoursquarePlaceTypeEnum.historical_museum]: \"Исторческий музей\",\n            [FoursquarePlaceTypeEnum.science_museum]: \"Музей наук\",\n            [FoursquarePlaceTypeEnum.theater]: \"Теарт\",\n            [FoursquarePlaceTypeEnum.opera_theatre]: \"Оперный театр\",\n            [FoursquarePlaceTypeEnum.forest]: \"Лес\",\n            [FoursquarePlaceTypeEnum.national_park]: \"Национальный парк\",\n            [FoursquarePlaceTypeEnum.natural_park]: \"Природный парк\",\n        }\n\n        return typeObj[type] || `ERROR ${type}`\n    }\n}\n","import PlaceTypeEnum from \"./PlaceType\";\n\nexport default class FoursquarePlaceTypeEnum {\n    static get place_of_view(){return \"place_of_view\"}\n    static get reserve(){return \"reserve\"}\n    static get botanical_garden(){return \"botanical_garden\"}\n    static get mountain(){return \"mountain\"}\n    static get lake(){return \"lake\"}\n    static get restaurant(){return \"restaurant\"}\n    static get art_gallery(){return \"art_gallery\"}\n    static get building(){return \"building\"}\n    static get castle(){return \"castle\"}\n    static get garden(){return \"garden\"}\n    static get historical_and_protected_object(){return \"historical_and_protected_object\"}\n    static get monument(){return \"monument\"}\n    static get palace(){return \"palace\"}\n    static get square(){return \"square\"}\n    static get art_museum(){return \"art_museum\"}\n    static get historical_museum(){return \"historical_museum\"}\n    static get science_museum(){return \"science_museum\"}\n    static get theater(){return \"theater\"}\n    static get opera_theatre(){return \"opera_theatre\"}\n    static get forest(){return \"forest\"}\n    static get national_park(){return \"national_park\"}\n    static get natural_park(){return \"natural_park\"}\n\n    static get typeOriginIds() {\n        return {\n            [PlaceTypeEnum.reserve]: [16028],\n            [PlaceTypeEnum.botanical_garden]: [16005],\n            [PlaceTypeEnum.mountains]: [16027],\n            [PlaceTypeEnum.lake]: [16023],\n            [PlaceTypeEnum.restaurant]: [13065],\n            [PlaceTypeEnum.art_gallery]: [10004],\n            [PlaceTypeEnum.tourist_attraction]: [16007, 16011, 16017, 16020, 16026, 16031, 16041],\n            [PlaceTypeEnum.museum]: [10028, 10030, 10031],\n            [PlaceTypeEnum.theater]: [10043, 10042],\n            [PlaceTypeEnum.park]: [16015, 16034, 16035],\n            [PlaceTypeEnum.place_of_view]: [16046],\n        }\n    }\n\n    static get typeIds() {\n        return {\n            [FoursquarePlaceTypeEnum.place_of_view]: 16046,\n            [FoursquarePlaceTypeEnum.reserve]: 16028,\n            [FoursquarePlaceTypeEnum.botanical_garden]: 16005,\n            [FoursquarePlaceTypeEnum.mountain]: 16027,\n            [FoursquarePlaceTypeEnum.lake]: 16023,\n            [FoursquarePlaceTypeEnum.restaurant]: 13065,\n            [FoursquarePlaceTypeEnum.art_gallery]: 10004,\n            [FoursquarePlaceTypeEnum.building]: 16007,\n            [FoursquarePlaceTypeEnum.castle]: 16011,\n            [FoursquarePlaceTypeEnum.garden]: 16017,\n            [FoursquarePlaceTypeEnum.historical_and_protected_object]: 16020,\n            [FoursquarePlaceTypeEnum.monument]: 16026,\n            [FoursquarePlaceTypeEnum.palace]: 16031,\n            [FoursquarePlaceTypeEnum.square]: 16041,\n            [FoursquarePlaceTypeEnum.art_museum]: 10028,\n            [FoursquarePlaceTypeEnum.historical_museum]: 10030,\n            [FoursquarePlaceTypeEnum.science_museum]: 10031,\n            [FoursquarePlaceTypeEnum.theater]: 10043,\n            [FoursquarePlaceTypeEnum.opera_theatre]: 10042,\n            [FoursquarePlaceTypeEnum.forest]: 16015,\n            [FoursquarePlaceTypeEnum.national_park]: 16034,\n            [FoursquarePlaceTypeEnum.natural_park]: 16035,\n        }\n    }\n}\n","/**\n *service\n */\nimport axios from 'axios'\n/**\n * const\n */\nimport {\n    API_ADMIN_COUNTRY_CREATE,\n    API_ADMIN_COUNTRY_LIST,\n    API_MAKE_ADMIN_COUNTRY_DELETE,\n    API_MAKE_ADMIN_COUNTRY_SHOW,\n    API_MAKE_ADMIN_COUNTRY_TRANSLATE_EDIT,\n    API_MAKE_ADMIN_COUNTRY_UPDATE,\n} from \"../../constants/admin/api.constant\";\n/**\n * utils\n */\nimport {QueryString} from \"../../utils/Querystring\";\n/**\n * model\n */\nimport CountryModel from \"../../model/Country/country.model\";\n\nexport default class CountryService {\n    static async list(params) {\n        let countryList = await axios.get(API_ADMIN_COUNTRY_LIST, {\n            params,\n            paramsSerializer: params => {\n                return QueryString.stringify({\n                    ...params,\n                    include: {\n                        translation: null,\n                        officialLanguage: null,\n                        currency: null,\n                        capital: {\n                            include: {\n                                translation: null,\n                            }\n                        },\n                        ...params.include,\n                    }\n                })\n            }\n        });\n\n        countryList.data = countryList.data.map( country => new CountryModel(country));\n\n        return countryList;\n    }\n\n    static async show(countryId, params = {}) {\n        return new CountryModel(await axios.get(API_MAKE_ADMIN_COUNTRY_SHOW(countryId), {\n            params,\n            paramsSerializer: params => {\n                return QueryString.stringify({\n                    ...params,\n                    include: {\n                        translation: null,\n                        officialLanguage: null,\n                        currency: null,\n                        capital: {\n                            include: {\n                                translation: null,\n                            }\n                        },\n                        ...params.include,\n                    }\n                })\n            }\n        }));\n    }\n\n    static async create(data) {\n        return new CountryModel(await axios.post(API_ADMIN_COUNTRY_CREATE, data));\n    }\n\n    static async update(countryId, data) {\n        return new CountryModel(await axios.put(API_MAKE_ADMIN_COUNTRY_UPDATE(countryId), data));\n    }\n\n    static async updateTranslate(countryId, data) {\n        return await axios.put(API_MAKE_ADMIN_COUNTRY_TRANSLATE_EDIT(countryId), data);\n    }\n\n    static async delete(countryId) {\n        return await axios.delete(API_MAKE_ADMIN_COUNTRY_DELETE(countryId));\n    }\n}\n\n"],"sourceRoot":""}