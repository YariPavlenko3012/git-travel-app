{"version":3,"sources":["pages/admin/pages/Route/components/Types/index.module.scss","pages/admin/pages/Route/components/Types/index.jsx","pages/admin/pages/Route/index.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","enums/ExcursionRouteType.js","services/admin/generationPlace.service.js","utils/GoogleClient.js"],"names":["module","exports","GoogleTypes","setPlaceTypes","placeTypes","dictionary","useContext","DictionaryContext","className","styles","typeWrapper","place_types","google_list","map","type","typeWrapper__type","includes","active","onClick","PlaceTypeTranslate","getTranslateForType","Route","useState","mapBlockRef","useRef","mapRef","useEffect","current","window","google","maps","Map","center","lat","lng","zoom","restriction","latLngBounds","north","east","south","west","strictBounds","GoogleClient","getMarker","SightService","list","city_id","ref","style","width","height","filter","placeType","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","ExcursionRouteTypeEnum","GenerationPlaceService","data","axios","post","ADMIN_CREATE_SQUARE_GENERATE_PLACE","url","API_ADMIN_SIGHT_DOWNLOAD_IMAGE","ADMIN_CREATE_FINISH_STATUS_BY_CITY_GENERATE_PLACE","params","get","ADMIN_GET_GENERATED_SQUARE_GENERATE_PLACE","paramsSerializer","QueryString","stringify","ADMIN_GET_CITY_WHITE_LIST_GENERATE_PLACE","cityList","city","CityModel","i","latitude","longitude","fetch","this","key","then","res","json","console","log","results","geometry","viewport","northeast","southwest","country","photo_ref","Promise","resolve","setTimeout","downloadImage","file","id","photosList","filesIds","shortPhotosList","_","index","length","photoReference","photo_reference","getPhotoFile","placeId","fields","defaultFields","requestDetailPlace","join","status","result","failed","message","catch","error","currentParams","direction","bounds","LatLngBounds","extend","LatLng","position","icon","props","Marker","color","Rectangle","strokeColor","strokeOpacity","strokeWeight","fillColor","fillOpacity","getNorthEast","parseBounds","path","Polyline","geodesic","pinSVGFilled","labelOriginFilled","Point","anchor","scale","labelOrigin","getSouthWest","openingHours","days","formatOpeningHours","undefined","close","reduce","day","open","openHour","time","slice","process"],"mappings":"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","file":"static/js/43.b550bccd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"typeWrapper\":\"Types_typeWrapper__dhpk5\",\"typeWrapper__type\":\"Types_typeWrapper__type__bmoD8\",\"active\":\"Types_active__itp0w\"};","/**\n * external libs\n */\nimport React, {useContext} from 'react';\n/**\n * styles\n */\nimport styles from \"./index.module.scss\";\n/**\n * utils\n */\nimport PlaceTypeTranslate from \"../../../../../../utils/PlaceTypeTranslate\";\n/**\n * context\n */\nimport {DictionaryContext} from \"../../../../../context/dictionary.context\";\n\nexport default function GoogleTypes({setPlaceTypes, placeTypes}) {\n    const {dictionary} = useContext(DictionaryContext)\n\n    return (\n        <div className={styles.typeWrapper}>\n            {dictionary.place_types.google_list.map( type => (\n                <div className={`${styles.typeWrapper__type} ${placeTypes.includes(type) && styles.active}`} onClick={() => setPlaceTypes(type)}>\n                    {PlaceTypeTranslate.getTranslateForType(type)}\n                </div>\n            ))}\n        </div>\n    )\n}\n","/**\n * external libs\n */\nimport React, {useEffect, useRef, useState} from 'react';\n/**\n * components\n */\nimport PlaceType from './components/Types'\n/**\n * services\n */\nimport SightService from \"../../../../services/admin/sight.service\";\nimport GoogleClient from \"../../../../utils/GoogleClient\";\n\nexport default function Route() {\n    const [placeTypes, setPlaceTypes] = useState([])\n    const mapBlockRef = useRef(null);\n    const mapRef = useRef(null);\n\n    const mapInit = () => {\n        const opt = {\n            center: {lat: 51.514316, lng: -0.129761},\n            zoom: 4,\n            restriction: {\n                latLngBounds: {\n                    north: 50.590798, //noth lat up\n                    east: 30.825941, //noth lng right\n                    south: 50.213273, //south lat down\n                    west: 30.2394401, //south lng left\n                },\n                strictBounds: true\n            },\n        }\n\n        mapRef.current = new window.google.maps.Map(mapBlockRef.current, opt)\n\n        GoogleClient.getMarker(\n            mapRef.current,\n            {\n                lat: 50.4662711,\n                lng: 30.5134968\n            }\n        )\n    }\n\n    const selectPlaceTypes = ( type ) => {\n        if(placeTypes.includes(type)){\n            return setPlaceTypes(placeTypes.filter( placeType => placeType !== type))\n        }\n\n        setPlaceTypes([...placeTypes, type])\n    }\n\n    const getPlace = () => {\n        SightService.list({\n            city_id: 264\n        })\n    }\n\n\n    useEffect(() => {\n        // getGeometryForCity()\n\n        mapInit()\n        getPlace()\n    }, [])\n\n    return (\n        <div>\n            <div>\n                Get place\n            </div>\n            <div ref={mapBlockRef} style={{width: \"100%\", height: 500}} />\n            <PlaceType setPlaceTypes={selectPlaceTypes} placeTypes={placeTypes}/>\n        </div>\n    )\n}\n","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default class ExcursionRouteTypeEnum{\n    static get walking(){ return \"walking\" }\n    static get driving(){ return \"driving\" }\n}\n","/**\n *service\n */\nimport axios from 'axios'\n/**\n * const\n */\nimport {\n    ADMIN_CREATE_FINISH_STATUS_BY_CITY_GENERATE_PLACE,\n    ADMIN_CREATE_SQUARE_GENERATE_PLACE,\n    ADMIN_GET_CITY_WHITE_LIST_GENERATE_PLACE,\n    ADMIN_GET_GENERATED_SQUARE_GENERATE_PLACE,\n    API_ADMIN_SIGHT_DOWNLOAD_IMAGE,\n} from \"../../constants/admin/api.constant\";\nimport {QueryString} from \"../../utils/Querystring\";\nimport CityModel from \"../../model/City/city.model\";\n\n\nexport default class GenerationPlaceService {\n    static async create(data) {\n        return await axios.post(ADMIN_CREATE_SQUARE_GENERATE_PLACE, data);\n    }\n\n    static async downloadImage(url) {\n        return await axios.post(API_ADMIN_SIGHT_DOWNLOAD_IMAGE, {url})\n    }\n\n    static async finish(data) {\n        return await axios.post(ADMIN_CREATE_FINISH_STATUS_BY_CITY_GENERATE_PLACE, data)\n    }\n\n    static async generatedSquare(params) {\n        return await axios.get(ADMIN_GET_GENERATED_SQUARE_GENERATE_PLACE, {\n            params,\n            paramsSerializer: params => {\n                return QueryString.stringify(params)\n            }\n        })\n    }\n\n    static async cityWhiteList(params) {\n        let cityList =  await axios.get(ADMIN_GET_CITY_WHITE_LIST_GENERATE_PLACE, {\n            params,\n            paramsSerializer: params => {\n                return QueryString.stringify(params)\n            }\n        })\n\n        cityList.data = cityList.data.map(city => new CityModel(city));\n\n        return cityList;\n    }\n}\n\n","import GenerationPlaceService from \"../services/admin/generationPlace.service\";\nimport ExcursionRouteTypeEnum from \"../enums/ExcursionRouteType\";\nimport {QueryString} from \"./Querystring\";\n\nexport default class GoogleClient {\n    static key = process.env.REACT_APP_GEOCODING_API\n\n    static getGeometryForCity(latitude, longitude) {\n        return fetch(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${latitude},${longitude}&result_type=locality&key=${this.key}`)\n            .then(res => res.json())\n            .then(city => {\n                console.log(city)\n                if (city.results[0]) {\n                    const {northeast, southwest} = city.results[0].geometry.viewport;\n\n                    return {\n                        north: northeast.lat, //noth lat up\n                        east: northeast.lng, //noth lng right\n                        south: southwest.lat, //south lat down\n                        west: southwest.lng, //south lng left\n                    }\n                }\n\n                return null\n            })\n    }\n\n    static getGeometryForCountry(latitude, longitude) {\n        return fetch(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${latitude},${longitude}&result_type=country&key=${this.key}`)\n            .then(res => res.json())\n            .then(country => {\n                console.log(country)\n                if (country.results[0]) {\n                    const {northeast, southwest} = country.results[0].geometry.viewport;\n\n                    return {\n                        north: northeast.lat, //noth lat up\n                        east: northeast.lng, //noth lng right\n                        south: southwest.lat, //south lat down\n                        west: southwest.lng, //south lng left\n                    }\n                }\n\n                return null\n            })\n    }\n\n    static async getPhotoFile (photo_ref){\n        try {\n            await new Promise(resolve => setTimeout(resolve, 400))\n            const file = await GenerationPlaceService.downloadImage(`https://maps.googleapis.com/maps/api/place/photo?maxwidth=600&sensor=false&maxheight=800&photo_reference=${photo_ref}&key=${this.key}`)\n\n            return file?.id ? file : null;\n        } catch (e) {\n            return null\n        }\n    }\n\n    static async getPhotosId( photosList ){\n        let filesIds = [];\n        const shortPhotosList = photosList?.filter((_, index) => index < 3) || [];\n\n        if(!shortPhotosList.length) {\n            return []\n        }\n\n        for (let i = 0; i < shortPhotosList.length; i++) {\n            const photoReference = shortPhotosList[i].photo_reference;\n            const file = await this.getPhotoFile(photoReference)\n\n            if (file.id) {\n                filesIds = [...filesIds, file.id]\n            }\n        }\n\n        return filesIds\n    }\n\n    static getPlaceDetails( placeId, fields, props = {} ){\n        const defaultFields = [\n            'international_phone_number',\n            'opening_hours',\n            'website',\n            'geometry',\n            'type',\n            'photo',\n            'formatted_address',\n            'address_components',\n            'name',\n            'place_id',\n        ]\n\n        console.log(placeId, fields)\n\n        const requestDetailPlace = {\n            placeId: placeId,\n            fields: fields || defaultFields\n        };\n\n        return fetch(`https://maps.googleapis.com/maps/api/place/details/json?place_id=${requestDetailPlace.placeId}&fields=${requestDetailPlace.fields.join(\",\")}&key=${this.key}`)\n            .then(res => res.json())\n            .then(res => {\n                console.log(res)\n                if(res.status === \"OK\"){\n                    return res.result;\n                }\n\n                if([\"ZERO_RESULTS\", \"NOT_FOUND\"].includes(res.status)){\n                    return null\n                }\n\n                return {\n                    failed: true,\n                    message: res.status\n                }\n            })\n            .catch( error => ({\n                failed: true,\n                message: error\n            }))\n    }\n\n    static getDirection( params ){\n        const currentParams = {\n            key: this.key,\n            ...params,\n        }\n        const url = `https://maps.googleapis.com/maps/api/directions/json?${QueryString.stringify(currentParams)}`\n\n        return fetch(url)\n            .then(res => res.json())\n            .then(direction => {\n                if(direction.status === \"OK\"){\n                    return direction;\n                }\n\n                if([\"ZERO_RESULTS\", \"NOT_FOUND\"].includes(direction.status)){\n                    return null\n                }\n\n                return {\n                    failed: true,\n                    message: direction.status\n                }\n            })\n            .catch( error => ({\n                failed: true,\n                message: error\n            }))\n    }\n\n    static getBounds(north, south, east, west) {\n        const bounds = new window.google.maps.LatLngBounds();\n\n        bounds.extend(new window.google.maps.LatLng(north, east));\n        bounds.extend(new window.google.maps.LatLng(south, west));\n\n        return bounds;\n    }\n\n    static getMarker(map, position = {}, icon = null, props){\n        return new window.google.maps.Marker({\n            position: position,\n            icon,\n            map,\n            ...props\n        })\n    }\n\n    static getRectangle( map, bounds, color = \"blue\", props = {} ){\n        return new window.google.maps.Rectangle({\n            strokeColor: color,\n            strokeOpacity: 0.8,\n            strokeWeight: 2,\n            fillColor: color,\n            fillOpacity: 0.35,\n            bounds: bounds.getNorthEast ? GoogleClient.parseBounds(bounds) : bounds,\n            map,\n            ...props,\n        });\n    }\n\n    static getPolyline( map, path, props = {} ){\n        return new window.google.maps.Polyline({\n            strokeColor: \"#FF0000\",\n            strokeOpacity: 1.0,\n            strokeWeight: 3,\n            geodesic: true,\n            path,\n            map,\n            ...props,\n        })\n    }\n\n    static generateCustomMarker(color = \"black\") {\n        const pinSVGFilled = \"M 12,2 C 8.1340068,2 5,5.1340068 5,9 c 0,5.25 7,13 7,13 0,0 7,-7.75 7,-13 0,-3.8659932 -3.134007,-7 -7,-7 z\";\n        const labelOriginFilled = new window.google.maps.Point(12, 9);\n\n\n        return {\n            path: pinSVGFilled,\n            anchor: new window.google.maps.Point(12, 17),\n            fillOpacity: 1,\n            fillColor: color,\n            strokeWeight: 2,\n            strokeColor: \"white\",\n            scale: 2,\n            labelOrigin: labelOriginFilled\n        };\n    }\n\n    static parseBounds( bounds ){\n        return {\n            north: bounds.getNorthEast().lat(), //noth lat\n            south: bounds.getSouthWest().lat(), //south lat\n            east: bounds.getNorthEast().lng(), //noth lng\n            west: bounds.getSouthWest().lng() //south lng\n        }\n    }\n\n    static parseOpeningHours( openingHours ){\n        const days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"]\n        let formatOpeningHours = null\n\n        if(openingHours){\n            if(openingHours.length === 1 && openingHours[0].close === undefined){\n                formatOpeningHours = days.reduce((result, day ) => ({\n                    ...result,\n                    [day]: {\n                        open: \"00:00\",\n                        close: \"00:00\"\n                    }\n                }), {})\n\n                return formatOpeningHours\n            }\n\n            formatOpeningHours = openingHours.reduce( (result, openHour) => ({\n                ...result,\n                [days[openHour.open.day]]: {\n                    open: `${openHour.open.time.slice(0, 2)}:${openHour.open.time.slice(2, 4)}`,\n                    close: `${openHour.close.time.slice(0, 2)}:${openHour.close.time.slice(2, 4)}`,\n                }\n            }), {})\n\n            return formatOpeningHours\n        }\n\n        return formatOpeningHours\n    }\n\n}\n"],"sourceRoot":""}